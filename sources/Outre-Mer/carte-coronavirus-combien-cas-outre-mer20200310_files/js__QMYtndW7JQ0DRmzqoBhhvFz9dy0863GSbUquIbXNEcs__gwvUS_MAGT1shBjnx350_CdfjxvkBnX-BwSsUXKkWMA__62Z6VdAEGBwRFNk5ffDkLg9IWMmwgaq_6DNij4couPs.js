/* Source and licensing information for the line(s) below can be found at https://la1ere.francetvinfo.fr/sites/regions_outremer/themes/outremer_gdformat/scripts/outremer_gdformat.js. */
(function(t){Drupal.behaviors.fr3MobileScroll={eventIsInitialized:!1,lastScrollTop:0,onScrollUp:[],onScrollDown:[],onScroll:[],attach:function(){if(this.eventIsInitialized===!1){var t=this;window.addEventListener('scroll',function(){let st=window.pageYOffset||document.documentElement.scrollTop;if(st>t.lastScrollTop){t._onScrollDown(st)}
else{t._onScrollUp(st)};t.lastScrollTop=st<=0?0:st},!1);this.eventIsInitialized=!0}},_onScrollUp:function(t){for(let i=0;i<this.onScrollUp.length;i++){this.onScrollUp[i](t)};this._onScroll(t)},_onScrollDown:function(t){for(let i=0;i<this.onScrollDown.length;i++){this.onScrollDown[i](t)};this._onScroll(t)},_onScroll:function(t){for(let i=0;i<this.onScroll.length;i++){this.onScroll[i](t)}}};Drupal.behaviors.fr3DynamicBottomBar={bottomBar:null,attach:function(){this.init();this.events();this.checkScrollSpeed=(function(t){t=t||{};var i,o,r,e,l=t.delay||50;function n(){i=null;e=0};n();return function(){o=window.scrollY;if(i!=null){e=o-i};i=o;clearTimeout(r);r=setTimeout(n,l);return e}})()},init:function(){this.bottomBar=document.querySelector('.bottom-bar')},events:function(){var t=this;if(this.bottomBar!==null){Drupal.behaviors.fr3MobileScroll.onScrollUp.push(function(){if(Math.abs(t.checkScrollSpeed())>5){t.bottomBar.classList.remove('bottom-bar--hidden')}});Drupal.behaviors.fr3MobileScroll.onScrollDown.push(function(){if(Math.abs(t.checkScrollSpeed())>5){t.bottomBar.classList.add('bottom-bar--hidden')}})}}};Drupal.behaviors.fr3DynamicProgressBar={attach:function(){this.init();this.events()},init:function(){this.progressBar=document.querySelector('.progress-bar');this.container=document.querySelector('body main');this.containerTop=null;this.maxProgress=null},events:function(){if(this.progressBar){let object=this;Drupal.behaviors.fr3MobileScroll.onScroll.push(function(t){object.countProgress(t)})}},countProgress:function(t){Drupal.behaviors.fr3MobileThrottle.throttle(this.getCoordinates(),5000);let progress=Math.max(0,Math.min(((t-this.containerTop)/this.maxProgress)*100,100));this.progressBar.style.width=progress+'%'},getCoordinates:function(){this.containerTop=this.container!==null?this.container.offsetTop:0;let containerBottom=this.container!==null?this.container.offsetTop+this.container.offsetHeight:0;let totalHeight=containerBottom-this.containerTop;let winHeight=window.innerHeight;this.maxProgress=totalHeight-winHeight}};Drupal.behaviors.fr3MobileThrottle={throttle:function(t,n,l){var i,o,e,a,r=0;if(!l)l={};var c=function(){r=l.leading===!1?0:Date.now();i=null;a=t.apply(o,e);if(!i)o=e=null},s=function(){var h=Date.now();if(!r&&l.leading===!1)r=h;var s=n-(h-r);o=this;e=arguments;if(s<=0||s>n){if(i){clearTimeout(i);i=null};r=h;a=t.apply(o,e);if(!i)o=e=null}
else if(!i&&l.trailing!==!1){i=setTimeout(c,s)};return a};s.cancel=function(){clearTimeout(i);r=0;i=o=e=null};return s}};Drupal.behaviors.gdFormat={attach:function(i,e){o(e);t(window).resize(function(){o(e)})}};function o(t){a();r(t);n(t);l()};function r(i){var n=i.outremer_gdformat.img_width,o=i.outremer_gdformat.img_height;if(t(window).width()<=768){o=o*1.25};var r=t('html').width(),e=o*r/n;t('section#header').height(e).css('line-height',e+'px');var l=t('section#header').offset().top};function n(i){var o=t('html').width(),r=700;if(o<r){r=o};e('.container .asset-diaporama .item-list li',r);e('.container-fluid .asset-diaporama .item-list li',o)};function e(i,o){t(i).each(function(){t(this).width(o).css('height','auto');t(this).find('.asset-image img').width(o).css('height','auto');var i=t(this).parent('ul'),e=i.children('li').length;i.width(o*e)})};function l(){var i=t('html').width();t('.node-article-grand-format img').each(function(o,e){var l=t(e).attr('data-mobile-src'),r=t(e).attr('data-medium-src'),a=t(e).attr('data-full-src');if(i<=400){t(e).attr('src',l)}
else if(i>400&&i<=768){t(e).attr('src',r)}
else if(i>768){var n=t(e).parents('section');if(t(n).hasClass('container-fluid')){t(e).attr('src',a)}
else{t(e).attr('src',r)}}})};function a(){var i=t('html').width(),o=t('#header').attr('data-mobile-src'),e=t('#header').attr('data-medium-src'),r=t('#header').attr('data-full-src');if(i<=400){t('#header').css({'background-image':'url('+o+')'})}
else if(i>400&&i<=768){t('#header').css({'background-image':'url('+e+')'})}
else if(i>768){t('#header').css({'background-image':'url('+r+')'})}}}(jQuery));;
/* Source and licensing information for the above line(s) can be found at https://la1ere.francetvinfo.fr/sites/regions_outremer/themes/outremer_gdformat/scripts/outremer_gdformat.js. */
;/*})'"*/
