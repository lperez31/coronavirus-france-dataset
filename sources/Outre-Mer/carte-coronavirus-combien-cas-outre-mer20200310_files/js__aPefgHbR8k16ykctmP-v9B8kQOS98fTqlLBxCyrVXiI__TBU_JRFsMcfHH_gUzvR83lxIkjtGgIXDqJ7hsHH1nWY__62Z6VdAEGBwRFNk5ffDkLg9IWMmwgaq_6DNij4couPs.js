/* Source and licensing information for the line(s) below can be found at https://la1ere.francetvinfo.fr/sites/regions_outremer/themes/outremer/scripts/header.js. */
(function(t){const CURRENT_CLASS='menu-item--toggled';const ACTIVE_CLASS='menu-item--active';const LOCAL_INFO_TOGGLED_CLASS='local-info--toggled';const NOSCROLL_CLASS='no-scroll';let currentItem=null;let hoverBar;let menuItems;let allMenuItems=document.querySelectorAll('.menu-item');let debounce=function(t,n,i){var e;return function(){var o=this,l=arguments,r=function(){e=null;if(!i)t.apply(o,l)},s=i&&!e;clearTimeout(e);e=setTimeout(r,n);if(s)t.apply(o,l)}};Drupal.behaviors.outreMerMenu={attach:function(){this.init();this.events()},init:function(){this.initVariables();this.positionSlidingUnderline(currentItem,!1)},initVariables:function(){let w=Math.max(document.documentElement.clientWidth,window.innerWidth||0);let visibleMenu=document.querySelector('.header__right');if(visibleMenu!==null){document.querySelector('body.active-menu--actu')&&visibleMenu.querySelector('.menu-item--info').classList.add(CURRENT_CLASS);document.querySelector('body.active-menu--tv')&&visibleMenu.querySelector('.menu-item--tv').classList.add(CURRENT_CLASS);document.querySelector('body.active-menu--radio')&&visibleMenu.querySelector('.menu-item--radio').classList.add(CURRENT_CLASS);currentItem=visibleMenu.querySelector('.'+CURRENT_CLASS);hoverBar=visibleMenu.querySelector('.menu__hover-bar');menuItems=visibleMenu.querySelectorAll('.menu-item')}},events:function(){var t=this;allMenuItems.forEach(function(e){e.addEventListener('mouseenter',function(){t.positionSlidingUnderline(e,!0)})});allMenuItems.forEach(function(e){e.addEventListener('mouseleave',function(){t.positionSlidingUnderline(currentItem,!1)})});allMenuItems.forEach(function(e){e.addEventListener('click',function(){t.setItemToActive(e)})});window.addEventListener('resize',function(){debounce(t.init(),250)})},setItemToActive:function(t){menuItems.forEach(function(t){t.classList.remove(ACTIVE_CLASS,CURRENT_CLASS)});t.classList.add(ACTIVE_CLASS);currentItem=t;this.positionSlidingUnderline(t,!1)},positionSlidingUnderline:function(t,e){if(t!==null){let title=t.querySelector('.menu-item__title');if(title!==null){hoverBar.style.width=!!e===!0?'4px':title.offsetWidth+'px';hoverBar.style.left=!!e===!0?title.offsetLeft+(title.offsetWidth-4)/2+'px':title.offsetLeft+'px'}}},};Drupal.behaviors.outreHeaderPub={attach:function(){var t=this;window.addEventListener('load',function(){var e=t.checkPub();if(e==null){setTimeout(function(){t.checkPub()},1000)}},!1)},checkPub:function(){var e=document.querySelector('head #skin_top_style'),n=document.querySelector('head #skin_middle_style'),t=null;if(e!==null){t=e};if(n!==null){t=n};if(t!==null){t.innerText=t.innerText.replace('body{background-position-y: 40px !important; padding-top:40px !important;}','body{background-position-y: 30px !important; padding-top:30px !important;}');document.querySelector('body').classList.remove('no-pub');document.querySelector('body').classList.add('top-pub')}
else{document.querySelector('body').classList.remove('top-pub');document.querySelector('body').classList.add('no-pub')};return t}};Drupal.behaviors.progressBar={attach:function(){this.init();this.events()},init:function(){this.progressBar=document.querySelector('.progress-bar');this.container=document.querySelector('body');this.containerTop=null;this.maxProgress=null},events:function(){if(this.progressBar){let object=this;Drupal.behaviors.fr3Scroll.onScroll.push(function(t){object.countProgress(t)})}},countProgress:function(t){Drupal.behaviors.fr3Throttle.throttle(this.getCoordinates(),5000);let progress=Math.max(0,Math.min(((t-this.containerTop)/this.maxProgress)*100,100));this.progressBar.style.width=progress+'%'},getCoordinates:function(){this.containerTop=this.container!==null?this.container.offsetTop:0;let containerBottom=this.container!==null?this.container.offsetTop+this.container.offsetHeight:0;let totalHeight=containerBottom-this.containerTop;let winHeight=window.innerHeight;this.maxProgress=totalHeight-winHeight}};Drupal.behaviors.fr3Throttle={throttle:function(t,r,n){var e,i,o,s,l=0;if(!n)n={};var a=function(){l=n.leading===!1?0:Date.now();e=null;s=t.apply(i,o);if(!e)i=o=null},c=function(){var u=Date.now();if(!l&&n.leading===!1)l=u;var c=r-(u-l);i=this;o=arguments;if(c<=0||c>r){if(e){clearTimeout(e);e=null};l=u;s=t.apply(i,o);if(!e)i=o=null}
else if(!e&&n.trailing!==!1){e=setTimeout(a,c)};return s};c.cancel=function(){clearTimeout(e);l=0;e=i=o=null};return c}};Drupal.behaviors.fr3Scroll={eventIsInitialized:!1,lastScrollTop:0,onScrollUp:[],onScrollDown:[],onScroll:[],attach:function(){if(this.eventIsInitialized===!1){var t=this;window.addEventListener('scroll',function(){let st=window.pageYOffset||document.documentElement.scrollTop;if(st>t.lastScrollTop){t._onScrollDown(st)}
else{t._onScrollUp(st)};t.lastScrollTop=st<=0?0:st},!1);this.eventIsInitialized=!0}},_onScrollUp:function(t){for(let i=0;i<this.onScrollUp.length;i++){this.onScrollUp[i](t)};this._onScroll(t)},_onScrollDown:function(t){for(let i=0;i<this.onScrollDown.length;i++){this.onScrollDown[i](t)};this._onScroll(t)},_onScroll:function(t){for(let i=0;i<this.onScroll.length;i++){this.onScroll[i](t)}}};Drupal.behaviors.infoLocal={attach:function(){this.init();this.events()},init:function(){this.localInfo=document.querySelector('.local-info');this.localInfoList=document.querySelector('.local-info__list');this.localInfoOverlay=document.querySelector('.local-info__overlay')},events:function(){var t=this;this.localInfo&&this.localInfo.addEventListener('click',function(){t.openLocalities()});this.localInfoList&&this.localInfoList.addEventListener('click',function(t){t.stopPropagation()});this.localInfoOverlay&&this.localInfoOverlay.addEventListener('click',function(e){e.stopPropagation();t.closeLocalities()})},openLocalities:function(){this.localInfo.classList.add(LOCAL_INFO_TOGGLED_CLASS);document.body.classList.add(NOSCROLL_CLASS)},closeLocalities:function(){this.localInfo.classList.remove(LOCAL_INFO_TOGGLED_CLASS);document.body.classList.remove(NOSCROLL_CLASS)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://la1ere.francetvinfo.fr/sites/regions_outremer/themes/outremer/scripts/header.js. */
;/*})'"*/
/* Source and licensing information for the line(s) below can be found at https://la1ere.francetvinfo.fr/sites/regions_outremer/themes/outremer/scripts/footer.js. */
(function(e){Drupal.behaviors.outremerFooter={attach:function(){this.initVariables();this.events()},initVariables:function(){this.archive=document.querySelector('footer .footer__archives');this.archiveDate=null;this.changeTerritory=document.querySelector('footer .footer__list-sites');this.pickList=document.querySelector('footer .footer__select-sites');this.overlay=document.querySelector('.overlay')},events:function(){var e=this;this.changeTerritory&&this.changeTerritory.addEventListener('click',function(t){t.stopPropagation();e.pickList&&e.pickList.classList.toggle('active');e.overlay&&e.overlay.classList.toggle('active');document.querySelector('body').classList.add('no-scroll')});this.overlay&&this.overlay.addEventListener('click',function(){e.clickOverlayCallback()});window.addEventListener('load',function(){if(window.innerWidth<1280){e.load()}})},load:function(){this.archive&&this.archive.classList.add('active');this.archiveDate=document.querySelector('.footer__archives.active .archives__date');this.archiveDate.style.height='auto';this.archiveDate.style.height='0px';this.archive&&this.archive.classList.remove('active')},clickOverlayCallback:function(){this.pickList&&this.pickList.classList.remove('active');this.overlay&&this.overlay.classList.remove('active');document.querySelector('body').classList.remove('no-scroll')}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at https://la1ere.francetvinfo.fr/sites/regions_outremer/themes/outremer/scripts/footer.js. */
;/*})'"*/
