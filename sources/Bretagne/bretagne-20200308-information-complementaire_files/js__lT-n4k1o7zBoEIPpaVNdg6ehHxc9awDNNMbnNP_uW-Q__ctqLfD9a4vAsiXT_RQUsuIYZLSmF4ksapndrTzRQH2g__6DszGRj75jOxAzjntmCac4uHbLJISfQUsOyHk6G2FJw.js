/* Source and licensing information for the line(s) below can be found at https://france3-regions.francetvinfo.fr/bretagne/sites/regions_france3/themes/fr3r_responsive/js/external/header.js. */
;var FTV=FTV||{};(function(e,t){window.addEventListener('DOMContentLoaded',function(){n.init()});var n={openMenuVar:!1,initVar:!1,init:function(){this.config={CSS:{classes:{opened:'opened',btOverlay:'bt-overlay',buttonVillesDapartements:'header_subContent--button',buttonSwitchRegion:'button--switch-region',openedListRegion:'listRegion-opened',},ids:{clonedMenu:'cloned-menu'}},_buttonBurgerMenu:'.r_navigation__title-burger',_buttonSwitchRegion:'.button--switch-region',_buttonBurgerMenuMobile:'.r_navigation__title--burger',_contentMenu:'.r_main-navigation',_contentMenuCloned:'.r_cloned-navigation',};this.ToggleMenu();this.OverlayMenu();this.CloseOnResizeEvent();this.moreRegion();this.linkSubMenu();this.serviceMenuDesktop();this.taxonomyActiveMenu();this.svgIe();this.keyword()},CloseMenu:function(){var n=this;document.querySelector(n.config._contentMenuCloned).classList.remove(n.config.CSS.classes.opened);e('.burger_list-region').hide();document.body.classList.remove(n.config.CSS.classes.opened);e('.r_cloned-navigation, body').removeClass('listRegion-opened');document.querySelector(n.config._contentMenuCloned).setAttribute('aria-hidden','true');n.openMenuVar=!1},closeOutsideMenu:function(){var e=this,n=function(n){if(e.openMenuVar&&!document.getElementById(e.config.CSS.ids.clonedMenu).contains(n.target)){e.CloseMenu()}};window.addEventListener('click',n)},OverlayMenu:function(){var n=document.createElement('div');n.className=this.config.CSS.classes.btOverlay;document.body.appendChild(n);e('.header_subContent--menu ul > li .submenu, .header_subContent--menu ul > li span').hover(function(){e('body').toggleClass('opened-desktop')})},ToggleMenu:function(){var n=this,t=function(t){t.stopPropagation();t.preventDefault();var i=t.currentTarget.classList.contains(n.config.CSS.classes.buttonVillesDapartements),o=t.currentTarget.classList.contains(n.config.CSS.classes.buttonSwitchRegion);if(document.querySelector(n.config._contentMenuCloned).classList.contains(n.config.CSS.classes.opened)){[].map.call(document.querySelectorAll(n.config._contentMenuCloned),function(e){n.CloseMenu()})}
else{[].map.call(document.querySelectorAll(n.config._contentMenuCloned),function(t){t.classList.add(n.config.CSS.classes.opened);t.setAttribute('aria-hidden','false');if(i){e('.burger_list-region').hide();e(t).animate({scrollTop:190},500);e('#burger-head_section--villes, #burger-head_section--departements').addClass('active')}
else if(o){t.classList.add(n.config.CSS.classes.openedListRegion);document.body.classList.add(n.config.CSS.classes.openedListRegion);e('.burger_list-region').slideDown()}
else{e('.burger_list-region').hide();e(t).animate({scrollTop:0},500);e('#burger-head_section--villes, #burger-head_section--departements').removeClass('active')};document.body.classList.add(n.config.CSS.classes.opened)});n.openMenuVar=!0;n.closeOutsideMenu()}};[].forEach.call(document.querySelectorAll([this.config._buttonSwitchRegion,this.config._buttonBurgerMenu,this.config._buttonBurgerMenuMobile]),function(e){e.addEventListener('click',t)})},CloseOnResizeEvent:function(){var e,t=this;window.addEventListener('resize',function(){clearTimeout(e);e=setTimeout(function(){if(window.matchMedia('(min-width: 768px)').matches){if(t.openMenuVar){t.CloseMenu()}};if(window.matchMedia('(max-width: 768px)').matches){n.initVar=!0}},250)})},moreRegion:function(){e('.burger-head_content .icon-region, .burger-head--region').on('click',function(){e('.burger_list-region').slideToggle();e('.r_cloned-navigation, body').toggleClass('listRegion-opened')});e('#burger-head_section--villes h3, #burger-head_section--departements h3').on('click',function(n){n.preventDefault();e(this).closest('.burger-head_section').toggleClass('active')})},linkSubMenu:function(){e('.list_container--list a .icomoon-arrow-down7, .list_container--list li > div').on('click',function(n){n.preventDefault();e(this).closest('li').toggleClass('active')})},serviceMenuDesktop:function(){$linkHeaderMore=e('.link-header_content--more');e(window).on('click',function(){$linkHeaderMore.removeClass('active')});$linkHeaderMore.on('click',function(n){n.stopPropagation();e(this).toggleClass('active')})},taxonomyActiveMenu:function(){var t=e('body').attr('class'),i=t.match(/page-taxonomy-term-([^~]+)/),o=t.match(/page-node-([^~]+)/);if(i){var c=i[1],n=c.match(/(\d+)/i);s(n)}
else if(o){var a=o[1],n=a.match(/(\d+)/i);s(n)};function s(n){e('.list_container--list > li > a').each(function(){var t=e(this).attr('class');if(t==n[0]){e(this).children('span').first().addClass('activeColor');return!1}});e('.list_container--list > li > ul li a').each(function(){var t=e(this).attr('class');if(t==n[0]){e(this).closest('li').addClass('active');e(this).closest('ul').parent().addClass('active');return!1}})}},svgIe:function(){svg4everybody()}}}(jQuery,FTV));;
/* Source and licensing information for the above line(s) can be found at https://france3-regions.francetvinfo.fr/bretagne/sites/regions_france3/themes/fr3r_responsive/js/external/header.js. */
;/*})'"*/
